# Cygwinã€Msysã€MinGWã€Msys2çš„åŒºåˆ«ä¸Žè”ç³»

ä¸‹é¢æŠŠ **Cygwinã€Msysã€MinGWã€Msys2** çš„å…³ç³»ä¸€æ¬¡è®²æ¸…æ¥šï¼Œä»Žã€Œè®¾è®¡ç›®æ ‡ã€ã€Œè¿è¡Œæœºåˆ¶ã€ã€Œæ˜¯å¦ä¾èµ–è¿è¡Œæ—¶ã€ã€Œé€‚åˆåœºæ™¯ã€å‡ ä¸ªç»´åº¦å¯¹æ¯”ã€‚

---

# ä¸€å¥è¯ç†è§£

* **Cygwin** ðŸ‘‰ åœ¨ Windows ä¸Šâ€œæ¨¡æ‹Ÿâ€ä¸€ä¸ªå®Œæ•´ Linux
* **MinGW** ðŸ‘‰ ç”¨ Windows åŽŸç”Ÿ API ç¼–è¯‘ Windows ç¨‹åº
* **MSYS** ðŸ‘‰ ç»™ MinGW æä¾›ä¸€ä¸ªç±» Unix çš„æž„å»ºçŽ¯å¢ƒ
* **MSYS2** ðŸ‘‰ MSYS çš„çŽ°ä»£å¢žå¼ºç‰ˆï¼ˆåŒ…ç®¡ç† + å¤šå·¥å…·é“¾ï¼‰

---

# 1ï¸âƒ£ Cygwin

## æœ¬è´¨

ä¸€ä¸ª **POSIX å…¼å®¹å±‚ï¼ˆæ¨¡æ‹Ÿ Linux çŽ¯å¢ƒï¼‰**

## æ ¸å¿ƒæœºåˆ¶

* ä¾èµ– `cygwin1.dll`
* å°† POSIX ç³»ç»Ÿè°ƒç”¨è½¬æ¢ä¸º Windows API

## ç‰¹ç‚¹

âœ” æä¾›å®Œæ•´ Linux å‘½ä»¤è¡Œä½“éªŒ
âœ” æ”¯æŒ forkã€ç¬¦å·é“¾æŽ¥ç­‰ Unix ç‰¹æ€§
âœ” æœ‰è‡ªå·±çš„åŒ…ç®¡ç†ç³»ç»Ÿ

âŒ ç”Ÿæˆçš„ç¨‹åºä¾èµ– `cygwin1.dll`
âŒ ä¸æ˜¯çº¯ Windows åŽŸç”Ÿç¨‹åº

## é€‚åˆåœºæ™¯

* æƒ³åœ¨ Windows ä¸ŠèŽ·å¾—å®Œæ•´ Linux shell ä½“éªŒ
* éœ€è¦å¤§é‡ GNU/Linux å·¥å…·é“¾

---

# 2ï¸âƒ£ MinGW

## æœ¬è´¨

Windows åŽŸç”Ÿ GCC å·¥å…·é“¾

## æ ¸å¿ƒæœºåˆ¶

* ç›´æŽ¥è°ƒç”¨ Windows API
* ä¸æ¨¡æ‹Ÿ POSIX
* ç”Ÿæˆ `.exe` æ˜¯åŽŸç”Ÿ Windows ç¨‹åº

## ç‰¹ç‚¹

âœ” ç”Ÿæˆç¨‹åº **ä¸ä¾èµ–é¢å¤– DLLï¼ˆé™¤æ ‡å‡†è¿è¡Œåº“ï¼‰**
âœ” æ€§èƒ½æŽ¥è¿‘åŽŸç”Ÿ Windows
âœ” æ›´é€‚åˆå¼€å‘ Windows åº”ç”¨

âŒ ä¸æä¾›å®Œæ•´ Unix shell
âŒ fork ç­‰ POSIX ç‰¹æ€§ä¸å®Œæ•´

## é€‚åˆåœºæ™¯

* æž„å»ºçº¯ Windows å¯æ‰§è¡Œç¨‹åº
* ä¸å¸Œæœ›å¸¦ Cygwin ä¾èµ–

---

# 3ï¸âƒ£ MSYS

## æœ¬è´¨

ä¸€ä¸ªâ€œè½»é‡ç‰ˆ Cygwinâ€ï¼Œä¸“é—¨ç»™ MinGW æœåŠ¡

## ç›®çš„

æä¾›ï¼š

* bash
* make
* autoconf
* shell å·¥å…·é“¾

ä½†ç”Ÿæˆçš„ç¨‹åºä»ç„¶æ˜¯ MinGW ç¼–è¯‘çš„ Windows åŽŸç”Ÿç¨‹åºã€‚

## ç‰¹ç‚¹

âœ” ç”¨æ¥æž„å»º MinGW å·¥ç¨‹
âœ” æä¾›ç±» Unix æž„å»ºçŽ¯å¢ƒ
âŒ é¡¹ç›®å·²åŸºæœ¬åœæ­¢ç»´æŠ¤

---

# 4ï¸âƒ£ MSYS2

## æœ¬è´¨

çŽ°ä»£åŒ– MSYS + å¤šå·¥å…·é“¾ç®¡ç†å¹³å°

## æ ¸å¿ƒç‰¹ç‚¹

âœ” åŸºäºŽ Cygwin æŠ€æœ¯
âœ” è‡ªå¸¦ pacman åŒ…ç®¡ç†å™¨ï¼ˆæ¥è‡ª Arch Linuxï¼‰
âœ” æ”¯æŒå¤šå¥—å·¥å…·é“¾

### æä¾› 3 å¥—çŽ¯å¢ƒ

| çŽ¯å¢ƒ      | è¯´æ˜Ž                |
| ------- | ----------------- |
| MSYS    | ç±» Unix æž„å»ºçŽ¯å¢ƒ       |
| MINGW64 | 64 ä½åŽŸç”Ÿ Windows ç¼–è¯‘ |
| UCRT64  | ä½¿ç”¨å¾®è½¯ UCRT è¿è¡Œåº“     |

---

# å››è€…å…³ç³»å›¾

```
                Cygwin
                   â”‚
                   â”‚(è£å‰ª)
                   â–¼
                 MSYS
                   â”‚
                   â”‚(å‡çº§+å¢žå¼º)
                   â–¼
                 MSYS2
                   â”‚
                   â”‚(æä¾›å·¥å…·é“¾)
                   â–¼
                MinGW-w64
```

---

# æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”è¡¨

| å¯¹æ¯”ç‚¹        | Cygwin      | MinGW | MSYS         | MSYS2     |
| ---------- | ----------- | ----- | ------------ | --------- |
| æ˜¯å¦æ¨¡æ‹Ÿ POSIX | âœ”           | âŒ     | âœ”            | âœ”         |
| æ˜¯å¦ä¾èµ– DLL   | cygwin1.dll | ä¸ä¾èµ–   | msys-1.0.dll | msys2.dll |
| æ˜¯å¦ç”ŸæˆåŽŸç”Ÿ exe | âŒ           | âœ”     | âœ”            | âœ”         |
| åŒ…ç®¡ç†        | è‡ªæœ‰          | æ—      | æ—             | pacman    |
| æ˜¯å¦ä»æ´»è·ƒ      | âœ”           | âœ”     | âŒ            | âœ”         |

---

# ä½ è¯¥æ€Žä¹ˆé€‰ï¼Ÿ

### æƒ³åœ¨ Windows ä¸Šä½“éªŒ Linuxï¼Ÿ

ðŸ‘‰ Cygwin

### æƒ³ç¼–è¯‘ Windows åŽŸç”Ÿç¨‹åºï¼Ÿ

ðŸ‘‰ MinGW æˆ– MSYS2 + MINGW64

### æƒ³æœ‰çŽ°ä»£åŒ…ç®¡ç†ï¼Ÿ

ðŸ‘‰ MSYS2ï¼ˆæŽ¨èï¼‰

---

# çŽ°ä»£å¼€å‘å»ºè®®

çŽ°åœ¨å¤§å¤šæ•°äººé€‰æ‹©ï¼š

> âœ… MSYS2 + MINGW64

å› ä¸ºï¼š

* æœ‰ pacman
* å·¥å…·é“¾çŽ°ä»£
* ç”Ÿæˆçº¯ Windows exe
* ç¤¾åŒºæ´»è·ƒ

---

# é¢å¤–è¯´æ˜Žï¼ˆå¾ˆå¤šäººä¼šæ··æ·†ï¼‰

* MSYS2 â‰  Cygwin
* MinGW â‰  MSYS
* Cygwin ç”Ÿæˆçš„ç¨‹åºä¸æ˜¯åŽŸç”Ÿ Windows ç¨‹åº
* MSYS2 åªæ˜¯æä¾›çŽ¯å¢ƒï¼ŒçœŸæ­£ç¼–è¯‘ Windows ç¨‹åºçš„æ˜¯ MinGW-w64

---

æˆ‘ä»¬ç›´æŽ¥ç”»ä¸€å¼ **åº•å±‚ç»“æž„ + è°ƒç”¨è·¯å¾„ + è¿è¡Œæ—¶ä¾èµ–**å…¨æ™¯å›¾ï¼ŒæŠŠå››è€…ä¸€æ¬¡æ€§æ‰“é€šã€‚

æ¶‰åŠï¼š

* Cygwin
* MSYS2
* MinGW-w64
* Windows API

---

# ä¸€ã€Windows æœ€åº•å±‚

```
+----------------------------------+
|        Windows Kernel            |
+----------------------------------+
|          Windows API             |
+----------------------------------+
```

æ‰€æœ‰ç¨‹åºæœ€ç»ˆéƒ½åªèƒ½è°ƒç”¨ **Windows API**

---

# äºŒã€Cygwin æž¶æž„

```
        ç”¨æˆ·ç¨‹åº (ELF-like)
                â”‚
                â–¼
        cygwin1.dll  â† POSIXå…¼å®¹å±‚
                â”‚
                â–¼
          Windows API
                â”‚
                â–¼
          Windows Kernel
```

### å…³é”®ç‚¹

* forkã€pipeã€signal ç­‰æ˜¯é€šè¿‡ `cygwin1.dll` æ¨¡æ‹Ÿ
* ç”Ÿæˆç¨‹åºä¾èµ– `cygwin1.dll`
* æ›´åƒâ€œè™šæ‹Ÿäº†ä¸€å±‚ Linuxâ€

ðŸ“Œ æœ¬è´¨ï¼š**ç¿»è¯‘å±‚**

---

# ä¸‰ã€MinGW-w64 æž¶æž„

```
        ç”¨æˆ·ç¨‹åº (PE.exe)
                â”‚
                â–¼
         ç›´æŽ¥è°ƒç”¨ Windows API
                â”‚
                â–¼
          Windows Kernel
```

### å…³é”®ç‚¹

* æ²¡æœ‰ POSIX å±‚
* æ²¡æœ‰æ¨¡æ‹Ÿ
* ç›´æŽ¥ç”Ÿæˆ Windows åŽŸç”Ÿ exe
* è¿è¡Œæ—¶ä¾èµ–ï¼š

  * msvcrt.dll æˆ– UCRT

ðŸ“Œ æœ¬è´¨ï¼š**åŽŸç”Ÿç¼–è¯‘å™¨**

---

# å››ã€MSYS2 åŒå±‚ç»“æž„ï¼ˆé‡ç‚¹ï¼‰

MSYS2 å®žé™…åŒ…å«ä¸¤ç§ä¸åŒä½“ç³»ï¼š

---

## 1ï¸âƒ£ MSYS2 Shell æœ¬èº«ï¼ˆç±» Cygwinï¼‰

```
        bash / make
                â”‚
                â–¼
           msys2.dll
                â”‚
                â–¼
          Windows API
```

ä½œç”¨ï¼š

* æä¾›æž„å»ºçŽ¯å¢ƒ
* æä¾› pacman
* æä¾›ç±» Linux shell

âš ï¸ è¿™éƒ¨åˆ†ç¨‹åºä¾èµ– msys2.dll

---

## 2ï¸âƒ£ MSYS2 + MinGW-w64 ç¼–è¯‘é“¾

```
        ä½ çš„ç¨‹åº
                â”‚
                â–¼
        MinGW-w64 gcc
                â”‚
                â–¼
          Windows API
                â”‚
                â–¼
          Windows Kernel
```

ç¼–è¯‘é˜¶æ®µåœ¨ MSYS2
è¿è¡Œé˜¶æ®µæ˜¯çº¯ Windows ç¨‹åº

ðŸ“Œ è¿™æ‰æ˜¯æŽ¨èä½¿ç”¨æ–¹å¼

---

# äº”ã€å®Œæ•´å¯¹æ¯”è°ƒç”¨è·¯å¾„

## Cygwin ç¨‹åºè¿è¡Œ

```
App.exe
   â†“
cygwin1.dll
   â†“
Windows API
   â†“
Kernel
```

---

## MSYS2 Shell å·¥å…·è¿è¡Œ

```
bash
   â†“
msys2.dll
   â†“
Windows API
```

---

## MinGW ç¼–è¯‘çš„ç¨‹åºè¿è¡Œ

```
App.exe
   â†“
Windows API
   â†“
Kernel
```

---

# å…­ã€æ ¸å¿ƒåŒºåˆ«æ€»ç»“

| ç»´åº¦           | Cygwin | MSYS2 Shell | MinGW-w64 |
| ------------ | ------ | ----------- | --------- |
| æ˜¯å¦æ¨¡æ‹Ÿ POSIX   | âœ”      | âœ”           | âŒ         |
| æ˜¯å¦æœ‰ç¿»è¯‘å±‚       | âœ”      | âœ”           | âŒ         |
| ç”Ÿæˆç¨‹åºæ˜¯å¦ä¾èµ– DLL | âœ”      | âœ”           | âŒ         |
| æ˜¯å¦åŽŸç”Ÿ Windows | âŒ      | âŒ           | âœ”         |

---

# ä¸ƒã€å¾ˆå¤šäººæ²¡æ„è¯†åˆ°çš„å…³é”®

### â— MSYS2 æ˜¯â€œå¹³å°â€

å®ƒåŒæ—¶åŒ…å«ï¼š

* POSIX å…¼å®¹å±‚
* å¤šå¥— MinGW å·¥å…·é“¾
* åŒ…ç®¡ç†å™¨
* æž„å»ºçŽ¯å¢ƒ

å®ƒæœ¬èº«ä¸æ˜¯ç¼–è¯‘å™¨ã€‚

çœŸæ­£ç”Ÿæˆ Windows åŽŸç”Ÿç¨‹åºçš„æ˜¯ï¼š

ðŸ‘‰ MinGW-w64

---

# å…«ã€ç±»æ¯”ç†è§£ï¼ˆæ›´å½¢è±¡ï¼‰

| å·¥å…·     | ç±»æ¯”                            |
| ------ | ----------------------------- |
| Cygwin | åœ¨ Windows ä¸Šè£…äº†ä¸€ä¸ªâ€œåŠä¸ª Linux è™šæ‹Ÿæœºâ€ |
| MSYS   | ç»™ MinGW æä¾› Linux å‘½ä»¤è¡Œ          |
| MSYS2  | å¸¦åŒ…ç®¡ç†çš„çŽ°ä»£ Linux æ¨¡æ‹Ÿ + å¤šç¼–è¯‘å™¨å¹³å°     |
| MinGW  | çº¯ Windows ç¼–è¯‘å™¨                 |

---

# ä¹ã€çŽ°ä»£æŽ¨èæž¶æž„

```
å¼€å‘é˜¶æ®µï¼š
MSYS2 Shell + pacman

ç¼–è¯‘é˜¶æ®µï¼š
MinGW-w64 gcc

è¿è¡Œé˜¶æ®µï¼š
çº¯ Windows exe
```

---

# åã€ç»ˆæžç†è§£ä¸€å¥è¯

> Cygwin = è¿è¡Œæ—¶æ¨¡æ‹Ÿ Linux
> MSYS2 = æž„å»ºçŽ¯å¢ƒå¹³å°
> MinGW-w64 = çœŸæ­£çš„ Windows ç¼–è¯‘å™¨


